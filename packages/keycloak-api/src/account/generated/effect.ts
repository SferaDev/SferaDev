/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import {
	ApiClient,
	type ApiError,
	createClient,
	makeApiClientFromEnv,
	makeApiClientLive,
	NetworkError,
	runWithClient,
	serializeQueryParams,
	ValidationError,
} from "@sferadev/openapi-utils/effect";
import { Effect } from "effect";
import type {
	BuildLinkingUriPathParams,
	BuildLinkingUriQueryParams,
	BuildLinkingUriQueryResponse,
	CreateConsentMutationResponse,
	CreateConsentPathParams,
	DeleteConsentMutationResponse,
	DeleteConsentPathParams,
	DeleteCredentialMutationResponse,
	DeleteCredentialPathParams,
	DeleteCurrentSessionMutationResponse,
	DeleteLinkedProviderMutationResponse,
	DeleteLinkedProviderPathParams,
	DeleteSessionMutationResponse,
	DeleteSessionPathParams,
	GetAccountQueryParams,
	GetAccountQueryResponse,
	GetApplicationsQueryParams,
	GetApplicationsQueryResponse,
	GetConsentPathParams,
	GetConsentQueryResponse,
	GetCredentialsQueryParams,
	GetCredentialsQueryResponse,
	GetDevicesQueryResponse,
	GetGroupsQueryParams,
	GetGroupsQueryResponse,
	GetLinkedAccountsQueryResponse,
	GetOrganizationsQueryResponse,
	GetSessionsQueryResponse,
	UpdateAccountMutationRequest,
	UpdateAccountMutationResponse,
	UpdateConsentMutationResponse,
	UpdateConsentPathParams,
	UpdateCredentialLabelMutationRequest,
	UpdateCredentialLabelMutationResponse,
	UpdateCredentialLabelPathParams,
} from "./types";

/**
 * @description Get user details for currently logged in user
 * @summary Get account
 * {@link /account/}
 */
export function getAccount({
	queryParams,
}: {
	queryParams?: GetAccountQueryParams;
}): Effect.Effect<GetAccountQueryResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		const url = "/account/";
		const searchParams = serializeQueryParams(queryParams);
		const fullUrl = url + (searchParams ? "?" + searchParams : "");

		const response = yield* client.request({
			method: "GET",
			url: fullUrl,

			headers: {},
		});

		return response as GetAccountQueryResponse;
	});
}

/**
 * @summary Update account
 * {@link /account/}
 */
export function updateAccount({
	body,
}: {
	body?: UpdateAccountMutationRequest;
}): Effect.Effect<UpdateAccountMutationResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		const url = "/account/";
		const fullUrl = url;

		const response = yield* client.request({
			method: "POST",
			url: fullUrl,
			body: body,
			headers: {},
		});

		return response as UpdateAccountMutationResponse;
	});
}

/**
 * @summary Get applications
 * {@link /account/applications}
 */
export function getApplications({
	queryParams,
}: {
	queryParams?: GetApplicationsQueryParams;
}): Effect.Effect<GetApplicationsQueryResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		const url = "/account/applications";
		const searchParams = serializeQueryParams(queryParams);
		const fullUrl = url + (searchParams ? "?" + searchParams : "");

		const response = yield* client.request({
			method: "GET",
			url: fullUrl,

			headers: {},
		});

		return response as GetApplicationsQueryResponse;
	});
}

/**
 * @summary Get consent
 * {@link /account/applications/:clientId/consent}
 */
export function getConsent({
	pathParams: { clientId },
}: {
	pathParams: GetConsentPathParams;
}): Effect.Effect<GetConsentQueryResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		if (clientId === undefined) {
			return yield* Effect.fail(
				new ValidationError({
					field: "clientId",
					reason: "Missing required path parameter",
				}),
			);
		}

		const url = `/account/applications/${clientId}/consent`;
		const fullUrl = url;

		const response = yield* client.request({
			method: "GET",
			url: fullUrl,

			headers: {},
		});

		return response as GetConsentQueryResponse;
	});
}

/**
 * @summary Create consent
 * {@link /account/applications/:clientId/consent}
 */
export function createConsent({
	pathParams: { clientId },
}: {
	pathParams: CreateConsentPathParams;
}): Effect.Effect<CreateConsentMutationResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		if (clientId === undefined) {
			return yield* Effect.fail(
				new ValidationError({
					field: "clientId",
					reason: "Missing required path parameter",
				}),
			);
		}

		const url = `/account/applications/${clientId}/consent`;
		const fullUrl = url;

		const response = yield* client.request({
			method: "POST",
			url: fullUrl,

			headers: {},
		});

		return response as CreateConsentMutationResponse;
	});
}

/**
 * @summary Update consent
 * {@link /account/applications/:clientId/consent}
 */
export function updateConsent({
	pathParams: { clientId },
}: {
	pathParams: UpdateConsentPathParams;
}): Effect.Effect<UpdateConsentMutationResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		if (clientId === undefined) {
			return yield* Effect.fail(
				new ValidationError({
					field: "clientId",
					reason: "Missing required path parameter",
				}),
			);
		}

		const url = `/account/applications/${clientId}/consent`;
		const fullUrl = url;

		const response = yield* client.request({
			method: "PUT",
			url: fullUrl,

			headers: {},
		});

		return response as UpdateConsentMutationResponse;
	});
}

/**
 * @summary Delete consent
 * {@link /account/applications/:clientId/consent}
 */
export function deleteConsent({
	pathParams: { clientId },
}: {
	pathParams: DeleteConsentPathParams;
}): Effect.Effect<DeleteConsentMutationResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		if (clientId === undefined) {
			return yield* Effect.fail(
				new ValidationError({
					field: "clientId",
					reason: "Missing required path parameter",
				}),
			);
		}

		const url = `/account/applications/${clientId}/consent`;
		const fullUrl = url;

		const response = yield* client.request({
			method: "DELETE",
			url: fullUrl,

			headers: {},
		});

		return response as DeleteConsentMutationResponse;
	});
}

/**
 * @description Get credentials for currently logged in user
 * @summary Get credentials
 * {@link /account/credentials}
 */
export function getCredentials({
	queryParams,
}: {
	queryParams?: GetCredentialsQueryParams;
}): Effect.Effect<GetCredentialsQueryResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		const url = "/account/credentials";
		const searchParams = serializeQueryParams(queryParams);
		const fullUrl = url + (searchParams ? "?" + searchParams : "");

		const response = yield* client.request({
			method: "GET",
			url: fullUrl,

			headers: {},
		});

		return response as GetCredentialsQueryResponse;
	});
}

/**
 * @summary Delete the credential
 * {@link /account/credentials/:credentialId}
 */
export function deleteCredential({
	pathParams: { credentialId },
}: {
	pathParams: DeleteCredentialPathParams;
}): Effect.Effect<DeleteCredentialMutationResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		if (credentialId === undefined) {
			return yield* Effect.fail(
				new ValidationError({
					field: "credentialId",
					reason: "Missing required path parameter",
				}),
			);
		}

		const url = `/account/credentials/${credentialId}`;
		const fullUrl = url;

		const response = yield* client.request({
			method: "DELETE",
			url: fullUrl,

			headers: {},
		});

		return response as DeleteCredentialMutationResponse;
	});
}

/**
 * @summary Update a user label of specified credential of current user
 * {@link /account/credentials/:credentialId/label}
 */
export function updateCredentialLabel({
	pathParams: { credentialId },
	body,
}: {
	pathParams: UpdateCredentialLabelPathParams;
	body?: UpdateCredentialLabelMutationRequest;
}): Effect.Effect<
	UpdateCredentialLabelMutationResponse,
	ApiError | ValidationError | never,
	ApiClient
> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		if (credentialId === undefined) {
			return yield* Effect.fail(
				new ValidationError({
					field: "credentialId",
					reason: "Missing required path parameter",
				}),
			);
		}

		const url = `/account/credentials/${credentialId}/label`;
		const fullUrl = url;

		const response = yield* client.request({
			method: "PUT",
			url: fullUrl,
			body: body,
			headers: {},
		});

		return response as UpdateCredentialLabelMutationResponse;
	});
}

/**
 * @description Get sessions for currently logged in user
 * @summary Get sessions
 * {@link /account/sessions}
 */
export function getSessions(): Effect.Effect<
	GetSessionsQueryResponse,
	ApiError | ValidationError | never,
	ApiClient
> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		const url = "/account/sessions";
		const fullUrl = url;

		const response = yield* client.request({
			method: "GET",
			url: fullUrl,

			headers: {},
		});

		return response as GetSessionsQueryResponse;
	});
}

/**
 * @summary Delete current session
 * {@link /account/sessions}
 */
export function deleteCurrentSession(): Effect.Effect<
	DeleteCurrentSessionMutationResponse,
	ApiError | ValidationError | never,
	ApiClient
> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		const url = "/account/sessions";
		const fullUrl = url;

		const response = yield* client.request({
			method: "DELETE",
			url: fullUrl,

			headers: {},
		});

		return response as DeleteCurrentSessionMutationResponse;
	});
}

/**
 * @description Get devices for currently logged in user
 * @summary Get devices
 * {@link /account/sessions/devices}
 */
export function getDevices(): Effect.Effect<
	GetDevicesQueryResponse,
	ApiError | ValidationError | never,
	ApiClient
> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		const url = "/account/sessions/devices";
		const fullUrl = url;

		const response = yield* client.request({
			method: "GET",
			url: fullUrl,

			headers: {},
		});

		return response as GetDevicesQueryResponse;
	});
}

/**
 * @summary Delete the session
 * {@link /account/sessions/:sessionId}
 */
export function deleteSession({
	pathParams: { sessionId },
}: {
	pathParams: DeleteSessionPathParams;
}): Effect.Effect<DeleteSessionMutationResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		if (sessionId === undefined) {
			return yield* Effect.fail(
				new ValidationError({
					field: "sessionId",
					reason: "Missing required path parameter",
				}),
			);
		}

		const url = `/account/sessions/${sessionId}`;
		const fullUrl = url;

		const response = yield* client.request({
			method: "DELETE",
			url: fullUrl,

			headers: {},
		});

		return response as DeleteSessionMutationResponse;
	});
}

/**
 * @description Get linked accounts for currently logged in user
 * @summary Get linked accounts
 * {@link /account/linked-accounts}
 */
export function getLinkedAccounts(): Effect.Effect<
	GetLinkedAccountsQueryResponse,
	ApiError | ValidationError | never,
	ApiClient
> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		const url = "/account/linked-accounts";
		const fullUrl = url;

		const response = yield* client.request({
			method: "GET",
			url: fullUrl,

			headers: {},
		});

		return response as GetLinkedAccountsQueryResponse;
	});
}

/**
 * @description Build account linking URI
 * @summary Build account linking URI
 * {@link /account/linked-accounts/:providerId}
 */
export function buildLinkingUri({
	pathParams: { providerId },
	queryParams,
}: {
	pathParams: BuildLinkingUriPathParams;
	queryParams: BuildLinkingUriQueryParams;
}): Effect.Effect<BuildLinkingUriQueryResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		if (providerId === undefined) {
			return yield* Effect.fail(
				new ValidationError({
					field: "providerId",
					reason: "Missing required path parameter",
				}),
			);
		}

		const url = `/account/linked-accounts/${providerId}`;
		const searchParams = serializeQueryParams(queryParams);
		const fullUrl = url + (searchParams ? "?" + searchParams : "");

		const response = yield* client.request({
			method: "GET",
			url: fullUrl,

			headers: {},
		});

		return response as BuildLinkingUriQueryResponse;
	});
}

/**
 * @summary Delete the linked provider
 * {@link /account/linked-accounts/:providerId}
 */
export function deleteLinkedProvider({
	pathParams: { providerId },
}: {
	pathParams: DeleteLinkedProviderPathParams;
}): Effect.Effect<
	DeleteLinkedProviderMutationResponse,
	ApiError | ValidationError | never,
	ApiClient
> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		if (providerId === undefined) {
			return yield* Effect.fail(
				new ValidationError({
					field: "providerId",
					reason: "Missing required path parameter",
				}),
			);
		}

		const url = `/account/linked-accounts/${providerId}`;
		const fullUrl = url;

		const response = yield* client.request({
			method: "DELETE",
			url: fullUrl,

			headers: {},
		});

		return response as DeleteLinkedProviderMutationResponse;
	});
}

/**
 * @summary Get groups that this user is a member of
 * {@link /account/groups}
 */
export function getGroups({
	queryParams,
}: {
	queryParams?: GetGroupsQueryParams;
}): Effect.Effect<GetGroupsQueryResponse, ApiError | ValidationError | never, ApiClient> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		const url = "/account/groups";
		const searchParams = serializeQueryParams(queryParams);
		const fullUrl = url + (searchParams ? "?" + searchParams : "");

		const response = yield* client.request({
			method: "GET",
			url: fullUrl,

			headers: {},
		});

		return response as GetGroupsQueryResponse;
	});
}

/**
 * @description Get organizations for currently logged in user
 * @summary Get organizations
 * {@link /account/organizations}
 */
export function getOrganizations(): Effect.Effect<
	GetOrganizationsQueryResponse,
	ApiError | ValidationError | never,
	ApiClient
> {
	return Effect.gen(function* () {
		const client = yield* ApiClient;

		const url = "/account/organizations";
		const fullUrl = url;

		const response = yield* client.request({
			method: "GET",
			url: fullUrl,

			headers: {},
		});

		return response as GetOrganizationsQueryResponse;
	});
}

export type {
	ApiClientConfig,
	ApiClientRequest,
	ApiClientService,
} from "@sferadev/openapi-utils/effect";
// Re-export core types for convenience
export {
	ApiClient,
	ApiError,
	createClient,
	makeApiClientFromEnv,
	makeApiClientLive,
	NetworkError,
	runWithClient,
	serializeQueryParams,
	ValidationError,
} from "@sferadev/openapi-utils/effect";

// ============================================================================
// Tag-based Services
// ============================================================================

export const AccountService = {
	getAccount: ({ queryParams }: { queryParams?: GetAccountQueryParams }) =>
		getAccount({ queryParams }),
	updateAccount: ({ body }: { body?: UpdateAccountMutationRequest }) => updateAccount({ body }),
	getApplications: ({ queryParams }: { queryParams?: GetApplicationsQueryParams }) =>
		getApplications({ queryParams }),
	getConsent: ({ pathParams: { clientId } }: { pathParams: GetConsentPathParams }) =>
		getConsent({ pathParams: { clientId } }),
	createConsent: ({ pathParams: { clientId } }: { pathParams: CreateConsentPathParams }) =>
		createConsent({ pathParams: { clientId } }),
	updateConsent: ({ pathParams: { clientId } }: { pathParams: UpdateConsentPathParams }) =>
		updateConsent({ pathParams: { clientId } }),
	deleteConsent: ({ pathParams: { clientId } }: { pathParams: DeleteConsentPathParams }) =>
		deleteConsent({ pathParams: { clientId } }),
	getCredentials: ({ queryParams }: { queryParams?: GetCredentialsQueryParams }) =>
		getCredentials({ queryParams }),
	deleteCredential: ({
		pathParams: { credentialId },
	}: {
		pathParams: DeleteCredentialPathParams;
	}) => deleteCredential({ pathParams: { credentialId } }),
	updateCredentialLabel: ({
		pathParams: { credentialId },
		body,
	}: {
		pathParams: UpdateCredentialLabelPathParams;
		body?: UpdateCredentialLabelMutationRequest;
	}) => updateCredentialLabel({ pathParams: { credentialId }, body }),
	getSessions: () => getSessions(),
	deleteCurrentSession: () => deleteCurrentSession(),
	getDevices: () => getDevices(),
	deleteSession: ({ pathParams: { sessionId } }: { pathParams: DeleteSessionPathParams }) =>
		deleteSession({ pathParams: { sessionId } }),
	getLinkedAccounts: () => getLinkedAccounts(),
	buildLinkingUri: ({
		pathParams: { providerId },
		queryParams,
	}: {
		pathParams: BuildLinkingUriPathParams;
		queryParams: BuildLinkingUriQueryParams;
	}) => buildLinkingUri({ pathParams: { providerId }, queryParams }),
	deleteLinkedProvider: ({
		pathParams: { providerId },
	}: {
		pathParams: DeleteLinkedProviderPathParams;
	}) => deleteLinkedProvider({ pathParams: { providerId } }),
	getGroups: ({ queryParams }: { queryParams?: GetGroupsQueryParams }) =>
		getGroups({ queryParams }),
	getOrganizations: () => getOrganizations(),
} as const;

// ============================================================================
// Unified API Service
// ============================================================================

/**
 * Unified API service providing access to all operations organized by tag.
 * Use this for a structured, namespace-based access pattern.
 *
 * @example
 * ```ts
 * import { ApiService, makeApiClientLive } from "your-package/effect";
 * import { Effect } from "effect";
 *
 * const program = Effect.gen(function* () {
 *   const projects = yield* ApiService.projects.listProjects();
 *   return projects;
 * });
 *
 * const result = await program.pipe(
 *   Effect.provide(makeApiClientLive({ baseUrl: "https://api.example.com", token: "your-token" })),
 *   Effect.runPromise
 * );
 * ```
 */
export const ApiService = {
	account: AccountService,
} as const;

// ============================================================================
// Path-based Operations Map
// ============================================================================

/**
 * Operations indexed by "METHOD /path" for direct endpoint access.
 *
 * @example
 * ```ts
 * import { operationsByPath, makeApiClientLive } from "your-package/effect";
 * import { Effect } from "effect";
 *
 * const program = Effect.gen(function* () {
 *   const result = yield* operationsByPath["GET /v4/projects"]();
 *   return result;
 * });
 *
 * const result = await program.pipe(
 *   Effect.provide(makeApiClientLive({ baseUrl: "https://api.example.com", token: "your-token" })),
 *   Effect.runPromise
 * );
 * ```
 */
export type OperationsByPath = {
	"DELETE /account/applications/{clientId}/consent": typeof deleteConsent;
	"DELETE /account/credentials/{credentialId}": typeof deleteCredential;
	"DELETE /account/linked-accounts/{providerId}": typeof deleteLinkedProvider;
	"DELETE /account/sessions": typeof deleteCurrentSession;
	"DELETE /account/sessions/{sessionId}": typeof deleteSession;
	"GET /account/": typeof getAccount;
	"GET /account/applications": typeof getApplications;
	"GET /account/applications/{clientId}/consent": typeof getConsent;
	"GET /account/credentials": typeof getCredentials;
	"GET /account/groups": typeof getGroups;
	"GET /account/linked-accounts": typeof getLinkedAccounts;
	"GET /account/linked-accounts/{providerId}": typeof buildLinkingUri;
	"GET /account/organizations": typeof getOrganizations;
	"GET /account/sessions": typeof getSessions;
	"GET /account/sessions/devices": typeof getDevices;
	"POST /account/": typeof updateAccount;
	"POST /account/applications/{clientId}/consent": typeof createConsent;
	"PUT /account/applications/{clientId}/consent": typeof updateConsent;
	"PUT /account/credentials/{credentialId}/label": typeof updateCredentialLabel;
};

export const operationsByPath: OperationsByPath = {
	"DELETE /account/applications/{clientId}/consent": deleteConsent,
	"DELETE /account/credentials/{credentialId}": deleteCredential,
	"DELETE /account/linked-accounts/{providerId}": deleteLinkedProvider,
	"DELETE /account/sessions": deleteCurrentSession,
	"DELETE /account/sessions/{sessionId}": deleteSession,
	"GET /account/": getAccount,
	"GET /account/applications": getApplications,
	"GET /account/applications/{clientId}/consent": getConsent,
	"GET /account/credentials": getCredentials,
	"GET /account/groups": getGroups,
	"GET /account/linked-accounts": getLinkedAccounts,
	"GET /account/linked-accounts/{providerId}": buildLinkingUri,
	"GET /account/organizations": getOrganizations,
	"GET /account/sessions": getSessions,
	"GET /account/sessions/devices": getDevices,
	"POST /account/": updateAccount,
	"POST /account/applications/{clientId}/consent": createConsent,
	"PUT /account/applications/{clientId}/consent": updateConsent,
	"PUT /account/credentials/{credentialId}/label": updateCredentialLabel,
};

// ============================================================================
// Type-safe Request Helper
// ============================================================================

/**
 * Type-safe request helper for making API calls by endpoint.
 *
 * @example
 * ```ts
 * import { request, makeApiClientLive } from "your-package/effect";
 * import { Effect } from "effect";
 *
 * const program = Effect.gen(function* () {
 *   const result = yield* request("GET /v4/projects", {});
 *   return result;
 * });
 *
 * const result = await program.pipe(
 *   Effect.provide(makeApiClientLive({ baseUrl: "https://api.example.com", token: "your-token" })),
 *   Effect.runPromise
 * );
 * ```
 */
export function request<K extends keyof OperationsByPath>(
	endpoint: K,
	params: Parameters<OperationsByPath[K]>[0],
): ReturnType<OperationsByPath[K]> {
	const operation = operationsByPath[endpoint] as (
		params: unknown,
	) => ReturnType<OperationsByPath[K]>;
	return operation(params);
}
